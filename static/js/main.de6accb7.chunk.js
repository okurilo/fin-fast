(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(21)},18:function(e,t,a){},19:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},20:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);a(12);var n=a(0),c=a.n(n),s=a(9),r=a.n(s),o=(a(18),a(1)),l=a(2),i=a(5),m=a(3),d=a(4),u=(a(19),a(20),a(10)),p=a(6),h=a(7),g=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md m-2"},c.a.createElement("label",{className:"text-light",htmlFor:"income"},"\u0414\u043e\u0445\u043e\u0434:"),c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{type:"text",className:"form-control",id:"income",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u0434\u043e\u0445\u043e\u0434\u0430",onChange:this.props.handleChangeIncome,value:this.props.income}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("span",{style:{width:"4rem"},className:"input-group-text justify-content-center"},"RUB")))),c.a.createElement("div",{className:"col-md m-2"},c.a.createElement("label",{className:"text-light",htmlFor:"days"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043d\u0435\u0439:"),c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{type:"text",className:"form-control",id:"days",placeholder:"\u0412\u043d\u0435\u0441\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043d\u0435\u0439",onChange:this.props.handleChangeDays,value:this.props.days}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("span",{style:{width:"4rem"},className:"input-group-text justify-content-center"},"\u0414\u043d\u0435\u0439")))),c.a.createElement("div",{className:"col-md m-2"},c.a.createElement("label",{className:"text-light",htmlFor:"percent"},"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u0438\u0439:"),c.a.createElement("div",{className:"input-group"},c.a.createElement("select",{className:"form-control custom-select",id:"percent",value:this.props.percentStorage,onChange:this.props.percentStorageSelect},c.a.createElement("option",{value:"0"},"0"),c.a.createElement("option",{value:"10"},"10"),c.a.createElement("option",{value:"15"},"15"),c.a.createElement("option",{value:"20"},"20"),c.a.createElement("option",{value:"25"},"25"),c.a.createElement("option",{value:"30"},"30")),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("span",{style:{width:"4rem"},className:"input-group-text justify-content-center"},"%")))))}}]),t}(n.Component),b=function e(t){Object(o.a)(this,e),this.id=t,this.text="",this.value=""},f=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).addNewCost=function(){var e=Object(p.a)(a.props.costs);e.push(new b((new Date).getTime())),a.props.writeToState({field:"costs",value:e})},a.deleteCost=function(e){var t=+e.target.id,n=Object(p.a)(a.props.costs);n=n.filter(function(e){return e.id!==t}),a.props.writeToState({field:"costs",value:n})},a.handleChangeCostText=function(e){var t=+e.target.id,n=e.target.value,c=Object(p.a)(a.props.costs);c.forEach(function(e){e.id===t&&(e.text=n)}),a.props.writeToState({field:"costs",value:c})},a.handleChangeCostValue=function(e){var t=+e.target.id,n=parseInt(e.target.value,10)||"",c=Object(p.a)(a.props.costs);c.forEach(function(e){e.id===t&&(e.value=n)}),a.props.writeToState({field:"costs",value:c})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.costs;return c.a.createElement("div",{className:"card text-white bg-info mt-2"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h5",{className:"card-title"},"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b"),t.map(function(t){return c.a.createElement("div",{key:t.id,className:"input-group mb-2"},c.a.createElement("input",Object.assign({},t,{type:"text",className:"form-control",onChange:e.handleChangeCostValue,value:t.value,placeholder:"\u0421\u0443\u043c\u043c\u0430","aria-label":"\u0421\u0443\u043c\u043c\u0430","aria-describedby":"button-addon4"})),c.a.createElement("input",Object.assign({},t,{type:"text",className:"form-control",onChange:e.handleChangeCostText,value:t.text,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438","aria-label":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438","aria-describedby":"button-addon4"})),c.a.createElement("div",{className:"input-group-append",id:"button-addon4"},c.a.createElement("button",Object.assign({},t,{onClick:e.deleteCost,className:"border-left btn btn-dark",type:"button"}),"x")))}),c.a.createElement("div",{className:"d-flex mt-2 justify-content-center"},c.a.createElement("button",{type:"button",className:"mr-2 text-right btn btn-light",onClick:this.addNewCost},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))))}}]),t}(n.Component),v=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.storage,a=e.balance,n=e.budget,s=e.days,r=e.percentStorage;return c.a.createElement("div",{className:"mt-2 card-group text-center"},c.a.createElement("div",{className:"card border-secondary"},c.a.createElement("h4",{className:"pb-3 mt-3"},t," RUB"),c.a.createElement("div",{className:"pt-0 card-body d-flex flex-column justify-content-between"},c.a.createElement("h5",{className:"card-title"},"\u041d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u0438\u044f (",r,"%)"),c.a.createElement("p",{className:"card-text"},"\u0421\u0443\u043c\u043c\u0430, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0442\u043b\u043e\u0436\u0438\u0442\u044c \u0432 \u041d/\u0417."))),c.a.createElement("div",{className:"card border-secondary"},c.a.createElement("h4",{className:"pb-3 mt-3"},a," RUB"),c.a.createElement("div",{className:"pt-0 card-body d-flex flex-column justify-content-between"},c.a.createElement("h5",{className:"card-title "},"\u041e\u0441\u0442\u0430\u0442\u043e\u043a"),c.a.createElement("p",{className:"card-text"},"\u0421\u0443\u043c\u043c\u0430 \u043d\u0430 \u0440\u0430\u0441\u0445\u043e\u0434\u044b, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0442\u0440\u0430\u0442\u0438\u0442\u044c \u0437\u0430 ",s," \u0434\u043d\u0435\u0439."))),c.a.createElement("div",{className:"card border-secondary"},c.a.createElement("h4",{className:"pb-3 mt-3"},n," RUB"),c.a.createElement("div",{className:"pt-0 card-body d-flex flex-column justify-content-between"},c.a.createElement("h5",{className:"card-title "},"\u0432 \u0434\u0435\u043d\u044c"),c.a.createElement("p",{className:"card-text"},"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439 \u0431\u044e\u0434\u0436\u0435\u0442."))))}}]),t}(n.Component),E=function e(){Object(o.a)(this,e),this.income="",this.days="",this.percentStorage=10,this.costs=[new b((new Date).getTime())],this.total={storage:0,balance:0,budget:0}},y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){var e=localStorage.getItem("finData");console.log(e),e?a.setState({data:JSON.parse(e)}):(a.setState({isLoaded:!1}),setTimeout(function(){a.setState({isLoaded:!0})},1e3))},a.handleClearStateStorage=function(){a.setState(new E,function(){this._updateTotal()})},a.handleChangeIncome=function(e){var t=parseInt(e.target.value,10)||"";t=t||0,a.setState({income:t},function(){this._updateTotal()})},a.handleChangeDays=function(e){var t=parseInt(e.target.value,10)||"";t=t||0,a.setState({days:t},function(){this._updateTotal()})},a.percentStorageSelect=function(e){var t=parseInt(e.target.value,10);a.setState({percentStorage:t},function(){this._updateTotal()})},a._updateTotal=function(){var e=a.state.income,t=a.state.days,n=Object(p.a)(a.state.costs),c=a.state.percentStorage/100,s=a.state.total,r=a._countRequiredCost(n);s.storage=parseInt(e*c,10)||0,s.balance=parseInt(e-s.storage,10)-r||0,s.budget=parseInt(s.balance/t,10)||0,a.setState({total:s},function(){this._writeToLocal(this.state)}.bind(Object(h.a)(Object(h.a)(a))))},a._countRequiredCost=function(e){return e.reduce(function(e,t){return e+t.value},0)},a._writeToState=function(e){a.setState(Object(u.a)({},e.field,e.value),function(){this._updateTotal()})},a._writeToLocal=function(e){localStorage.setItem("finData",JSON.stringify(e))},a.state={isLoaded:!0,income:"",days:"",percentStorage:10,costs:[new b((new Date).getTime())],total:{storage:0,balance:0,budget:0}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.isLoaded;return c.a.createElement("section",{className:"m-2 text-left"},!e&&c.a.createElement("h3",{style:{color:"#4e6e73",textAlign:"Center",margin:"20px",height:"77vh","line-height":"77vh"}},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),e&&c.a.createElement(g,{income:this.state.income,days:this.state.days,percentStorage:this.state.percentStorage,percentStorageSelect:this.percentStorageSelect,handleChangeIncome:this.handleChangeIncome,handleChangeDays:this.handleChangeDays}),e&&c.a.createElement(f,{costs:this.state.costs,writeToState:this._writeToState}),e&&c.a.createElement(v,{storage:this.state.total.storage,balance:this.state.total.balance,budget:this.state.total.budget,days:this.state.days,percentStorage:this.state.percentStorage}),c.a.createElement("div",{className:"mt-2 d-flex justify-content-center"},c.a.createElement("button",{className:"btn btn-outline-danger",onClick:this.handleClearStateStorage},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c")))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",null,c.a.createElement("h3",{className:"text-light"},"\u0420\u0430\u0441\u0447\u0451\u0442 \u0431\u044e\u0434\u0436\u0435\u0442\u0430")),c.a.createElement(y,null),c.a.createElement("footer",null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.de6accb7.chunk.js.map